{% comment %}
  Sección de contacto personalizada para GranitoSkate
{% endcomment %}

<div class="gr-contact-section" id="gr-contact-container">
  <div class="page-width">
    <div class="gr-contact-header">
      <h1 class="gr-contact-title">{{ section.settings.title }}</h1>
      
      {% if section.settings.description != blank %}
        <div class="gr-contact-description">{{ section.settings.description }}</div>
      {% endif %}
    </div>
    
    <div class="gr-contact-grid">
      <div class="gr-contact-form-container">
        <h2>{{ section.settings.form_title }}</h2>
        
        {% form 'contact' %}
          {% if form.posted_successfully? %}
            <div class="gr-form-success">
              {{ section.settings.success_message }}
            </div>
          {% endif %}
          
          {% if form.errors %}
            <div class="gr-form-error">
              {{ form.errors | default_errors }}
            </div>
          {% endif %}
          
          <div class="gr-form-field">
            <label for="contact_name">{{ section.settings.name_label }}</label>
            <input type="text" id="contact_name" name="contact[name]" value="{{ form.name }}" required>
          </div>
          
          <div class="gr-form-field">
            <label for="contact_email">{{ section.settings.email_label }}</label>
            <input type="email" id="contact_email" name="contact[email]" value="{{ form.email }}" required>
          </div>
          
          <div class="gr-form-field">
            <label for="contact_phone">{{ section.settings.phone_label }}</label>
            <input type="tel" id="contact_phone" name="contact[phone]" value="{{ form.phone }}">
          </div>
          
          <div class="gr-form-field">
            <label for="contact_subject">{{ section.settings.subject_label }}</label>
            <input type="text" id="contact_subject" name="contact[subject]" value="{{ form.subject }}" required>
          </div>
          
          <div class="gr-form-field">
            <label for="contact_message">{{ section.settings.message_label }}</label>
            <textarea id="contact_message" name="contact[body]" rows="5" required>{{ form.body }}</textarea>
          </div>
          
          <button type="submit" class="gr-button">{{ section.settings.submit_text }}</button>
        {% endform %}
      </div>
      
      <div class="gr-contact-info-container">
        <h2>{{ section.settings.info_title }}</h2>
        
        <div class="gr-contact-info">
          {% if section.settings.address != blank %}
            <div class="gr-contact-item">
              <div class="gr-contact-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                  <circle cx="12" cy="10" r="3"></circle>
                </svg>
              </div>
              <div class="gr-contact-text">
                <h3>{{ section.settings.address_title }}</h3>
                <p>{{ section.settings.address }}</p>
              </div>
            </div>
          {% endif %}
          
          {% if section.settings.phone != blank %}
            <div class="gr-contact-item">
              <div class="gr-contact-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                </svg>
              </div>
              <div class="gr-contact-text">
                <h3>{{ section.settings.phone_title }}</h3>
                <p><a href="tel:{{ section.settings.phone }}">{{ section.settings.phone }}</a></p>
              </div>
            </div>
          {% endif %}
          
          {% if section.settings.email != blank %}
            <div class="gr-contact-item">
              <div class="gr-contact-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                  <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
              </div>
              <div class="gr-contact-text">
                <h3>{{ section.settings.email_title }}</h3>
                <p><a href="mailto:{{ section.settings.email }}">{{ section.settings.email }}</a></p>
              </div>
            </div>
          {% endif %}
          
          {% if section.settings.hours != blank %}
            <div class="gr-contact-item">
              <div class="gr-contact-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
              </div>
              <div class="gr-contact-text">
                <h3>{{ section.settings.hours_title }}</h3>
                <p>{{ section.settings.hours }}</p>
              </div>
            </div>
          {% endif %}
        </div>
        
        {% if section.settings.show_social %}
          <div class="gr-contact-social">
            <h3>{{ section.settings.social_title }}</h3>
            <div class="gr-social-links">
              {% if settings.gr_social_instagram != blank %}
                <a href="{{ settings.gr_social_instagram }}" target="_blank" rel="noopener" aria-label="Instagram">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                  </svg>
                </a>
              {% endif %}
              
              {% if settings.gr_social_facebook != blank %}
                <a href="{{ settings.gr_social_facebook }}" target="_blank" rel="noopener" aria-label="Facebook">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                  </svg>
                </a>
              {% endif %}
              
              {% if settings.gr_social_twitter != blank %}
                <a href="{{ settings.gr_social_twitter }}" target="_blank" rel="noopener" aria-label="Twitter">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                  </svg>
                </a>
              {% endif %}
              
              {% if settings.gr_social_youtube != blank %}
                <a href="{{ settings.gr_social_youtube }}" target="_blank" rel="noopener" aria-label="YouTube">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path>
                    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
                  </svg>
                </a>
              {% endif %}
              
              {% if settings.gr_social_tiktok != blank %}
                <a href="{{ settings.gr_social_tiktok }}" target="_blank" rel="noopener" aria-label="TikTok">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M9 12a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"></path>
                    <path d="M19 10V5h-3l.1 5H19z"></path>
                    <path d="M13 10c0 5.4-4.6 9.8-10 9.8v-3c3.9 0 7-3.1 7-6.8h3z"></path>
                  </svg>
                </a>
              {% endif %}
            </div>
          </div>
        {% endif %}
      </div>
    </div>
    
    {% if section.settings.show_map and section.settings.map_embed != blank %}
      <div class="gr-contact-map">
        <h2>{{ section.settings.map_title }}</h2>
        <div class="gr-map-container">
          {{ section.settings.map_embed }}
        </div>
      </div>
    {% endif %}
  </div>
</div>

<style>
  .gr-contact-section {
    margin: 40px 0;
  }
  
  .gr-contact-header {
    margin-bottom: 30px;
    text-align: center;
  }
  
  .gr-contact-title {
    margin-top: 0;
    margin-bottom: 10px;
    color: {{ settings.gr_color_principal }};
  }
  
  .gr-contact-description {
    max-width: 800px;
    margin: 0 auto;
  }
  
  .gr-contact-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 30px;
    margin-bottom: 40px;
  }
  
  @media screen and (min-width: 750px) {
    .gr-contact-grid {
      grid-template-columns: 1fr 1fr;
    }
  }
  
  .gr-contact-form-container,
  .gr-contact-info-container {
    padding: 30px;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
  }
  
  .gr-contact-form-container h2,
  .gr-contact-info-container h2 {
    margin-top: 0;
    margin-bottom: 20px;
    color: {{ settings.gr_color_principal }};
  }
  
  .gr-form-field {
    margin-bottom: 15px;
  }
  
  .gr-form-field label {
    display: block;
    margin-bottom: 5px;
  }
  
  .gr-form-field input,
  .gr-form-field textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #e5e5e5;
    border-radius: 4px;
  }
  
  .gr-form-success {
    color: #4caf50;
    margin-bottom: 15px;
    padding: 10px;
    background-color: #e8f5e9;
    border-radius: 4px;
  }
  
  .gr-form-error {
    color: #e53935;
    margin-bottom: 15px;
    padding: 10px;
    background-color: #ffebee;
    border-radius: 4px;
  }
  
  .gr-contact-info {
    margin-bottom: 30px;
  }
  
  .gr-contact-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 20px;
  }
  
  .gr-contact-icon {
    margin-right: 15px;
    color: {{ settings.gr_color_principal }};
    flex-shrink: 0;
  }
  
  .gr-contact-text h3 {
    margin-top: 0;
    margin-bottom: 5px;
  }
  
  .gr-contact-text p {
    margin: 0;
  }
  
  .gr-contact-text a {
    color: {{ settings.gr_color_principal }};
    text-decoration: none;
  }
  
  .gr-contact-social h3 {
    margin-top: 0;
    margin-bottom: 15px;
  }
  
  .gr-social-links {
    display: flex;
    gap: 15px;
  }
  
  .gr-social-links a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #f5f5f5;
    color: {{ settings.gr_color_principal }};
    transition: background-color 0.2s ease, color 0.2s ease;
  }
  
  .gr-social-links a:hover {
    background-color: {{ settings.gr_color_principal }};
    color: white;
  }
  
  .gr-contact-map {
    margin-top: 40px;
  }
  
  .gr-contact-map h2 {
    margin-top: 0;
    margin-bottom: 20px;
    color: {{ settings.gr_color_principal }};
  }
  
  .gr-map-container {
    height: 400px;
    border-radius: 8px;
    overflow: hidden;
  }
  
  .gr-map-container iframe {
    width: 100%;
    height: 100%;
    border: 0;
  }
</style>

{% schema %}
{
  "name": "GR Contacto",
  "tag": "section",
  "class": "section-contact",
  "settings": [
    {
      "type": "header",
      "content": "Configuración general"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Título",
      "default": "Contacto"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Descripción",
      "default": "<p>Estamos aquí para ayudarte. Ponte en contacto con nosotros para cualquier consulta o sugerencia.</p>"
    },
    {
      "type": "header",
      "content": "Formulario"
    },
    {
      "type": "text",
      "id": "form_title",
      "label": "Título del formulario",
      "default": "Envíanos un mensaje"
    },
    {
      "type": "text",
      "id": "name_label",
      "label": "Etiqueta de nombre",
      "default": "Nombre"
    },
    {
      "type": "text",
      "id": "email_label",
      "label": "Etiqueta de email",
      "default": "Email"
    },
    {
      "type": "text",
      "id": "phone_label",
      "label": "Etiqueta de teléfono",
      "default": "Teléfono (opcional)"
    },
    {
      "type": "text",
      "id": "subject_label",
      "label": "Etiqueta de asunto",
      "default": "Asunto"
    },
    {
      "type": "text",
      "id": "message_label",
      "label": "Etiqueta de mensaje",
      "default": "Mensaje"
    },
    {
      "type": "text",
      "id": "submit_text",
      "label": "Texto del botón enviar",
      "default": "Enviar mensaje"
    },
    {
      "type": "text",
      "id": "success_message",
      "label": "Mensaje de éxito",
      "default": "¡Gracias por tu mensaje! Te responderemos lo antes posible."
    },
    {
      "type": "header",
      "content": "Información de contacto"
    },
    {
      "type": "text",
      "id": "info_title",
      "label": "Título de información",
      "default": "Información de contacto"
    },
    {
      "type": "text",
      "id": "address_title",
      "label": "Título de dirección",
      "default": "Dirección"
    },
    {
      "type": "text",
      "id": "address",
      "label": "Dirección"
    },
    {
      "type": "text",
      "id": "phone_title",
      "label": "Título de teléfono",
      "default": "Teléfono"
    },
    {
      "type": "text",
      "id": "phone",
      "label": "Teléfono"
    },
    {
      "type": "text",
      "id": "email_title",
      "label": "Título de email",
      "default": "Email"
    },
    {
      "type": "text",
      "id": "email",
      "label": "Email"
    },
    {
      "type": "text",
      "id": "hours_title",
      "label": "Título de horario",
      "default": "Horario"
    },
    {
      "type": "text",
      "id": "hours",
      "label": "Horario"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Mostrar redes sociales",
      "default": true
    },
    {
      "type": "text",
      "id": "social_title",
      "label": "Título de redes sociales",
      "default": "Síguenos"
    },
    {
      "type": "header",
      "content": "Mapa"
    },
    {
      "type": "checkbox",
      "id": "show_map",
      "label": "Mostrar mapa",
      "default": true
    },
    {
      "type": "text",
      "id": "map_title",
      "label": "Título del mapa",
      "default": "Encuéntranos"
    },
    {
      "type": "html",
      "id": "map_embed",
      "label": "Código de inserción del mapa"
    }
  ],
  "presets": [
    {
      "name": "GR Contacto"
    }
  ]
}
{% endschema %}
